(()=>{"use strict";let e=20;const t=document.createElement("header"),n=document.createElement("h1");n.classList.add(".title"),n.innerText="Welcome to the game of sticks!!!",t.appendChild(n),document.body.appendChild(t);const d=document.createElement("main");document.body.appendChild(d),function(e){const t=document.createElement("div");t.classList.add("sticks-container");for(let n=0;n<e;n++){const e=document.createElement("div");e.classList.add("stick-block");const n=document.createElement("div");n.classList.add("match");const d=document.createElement("div");d.classList.add("fire"),d.hidden=!0;const s=document.createElement("div");s.classList.add("top");const i=document.createElement("div");i.classList.add("stick"),n.appendChild(d),n.appendChild(s),n.appendChild(i),e.appendChild(n),t.appendChild(e)}d.appendChild(t)}(e);const s=document.createElement("div");s.classList.add("all-btn-container");const i=document.createElement("div"),c=document.createElement("div");function a(e,t){e.classList.add(`container-btn-${t}-player`);const n=document.createElement("h2");n.classList.add("player-title"),t=t.charAt(0).toUpperCase()+t.slice(1),n.innerText=`${t} player`,e.appendChild(n),function(e){for(let t=0;t<3;t++){const n=document.createElement("button");n.classList.add("drop-button"),n.innerText=`drop ${t+1}`,e.appendChild(n)}}(e),s.appendChild(e)}a(i,"first"),a(c,"second"),d.appendChild(s),document.body.appendChild(d);const l=document.createElement("footer");l.classList.add("footer");const o=document.createElement("button");o.classList.add("rules-btn"),o.innerText="rules",l.appendChild(o);const r=document.createElement("div");r.classList.add("author-block");const p=document.createElement("a");p.href="https://github.com/Yana-Dyachok";const m=document.createElement("img");m.classList.add("github-icon"),m.src="../public/icons8-github.svg",m.width=50,m.height=50,p.appendChild(m);const h=document.createElement("p");h.classList.add("author"),h.textContent="Created by Kukharets",r.appendChild(p),r.appendChild(h),l.appendChild(r);const u=document.createElement("button");function E(e){const t=document.createElement("div");t.classList.add("popup");const n=document.createElement("div");n.classList.add("popup-body");const d=document.createElement("div");d.classList.add("popup-content");const s=document.createElement("div");s.classList.add("popup-text"),s.textContent=e;const i=document.createElement("button");i.classList.add("popup-close-btn"),i.textContent="Ok",i.addEventListener("click",(()=>{t.classList.toggle("target")})),d.appendChild(s),d.appendChild(i),n.appendChild(d),t.appendChild(n),document.body.appendChild(t)}u.classList.add("reboot-btn"),u.innerText="reload",l.appendChild(u),document.body.appendChild(l);const C=document.querySelectorAll(".stick-block");let v=[];function L(e,t){let n=0;for(;n<t;){const t=e[Math.floor(Math.random()*e.length)];!t||t.classList.contains("removed")||v.includes(t)||(t.firstElementChild.firstElementChild.hidden=!1,setTimeout((()=>t.classList.add("removed")),1500),t.style.animation="stickAnimation 2s ease-out",n++,v.push(t))}}function b(t){t.children[1].addEventListener("click",(()=>{v.length<e?L(C,1):t.children[1].disabled=!0,t.children[1].disabled||f(t)})),t.children[2].addEventListener("click",(()=>{v.length<e-1?L(C,2):t.children[2].disabled=!0,t.children[2].disabled||f(t)})),t.children[3].addEventListener("click",(()=>{v.length<e-2?L(C,3):t.children[3].disabled=!0,t.children[3].disabled||f(t)}))}function f(t){t.style.pointerEvents="none",t===i?(c.style.pointerEvents="auto",c.firstElementChild.classList.add("active-player")):(c.style.pointerEvents="none",c.firstElementChild.classList.remove("active-player")),t===c?(i.style.pointerEvents="auto",i.firstElementChild.classList.add("active-player")):(i.style.pointerEvents="none",i.firstElementChild.classList.remove("active-player")),v.length===e&&setTimeout((()=>{i.firstElementChild.classList.contains("active-player")?E(`Congratulations! ${c.firstElementChild.innerHTML} won!`):E(`Congratulations! ${i.firstElementChild.innerHTML} won!`)}),1e3)}b(i),b(c),u.addEventListener("click",(()=>{localStorage.clear(),location.reload()})),o.addEventListener("click",(()=>E("You need to remove sticks, press the drop buttons in turn, where: drop 1-remove 1 stick, drop 2 - 2 sticks and drop 3 -3 sticks, the last one to remove the sticks is the winner. If you want to start the game from the beginning, click on the button 'reload'.")))})();